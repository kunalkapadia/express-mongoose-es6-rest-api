language: node_js
node_js:
  - "8.10"
  - "9.9"
services:
  - mongodb
cache:
  directories:
  - node_modules
git:
  depth: 3
script:
  - yarn test:check-coverage
after_script:
  - yarn report-coverage
before_install:
  - curl -o- -L https://yarnpkg.com/install.sh | bash -s -- --version 1.5.1
  - export PATH=$HOME/.yarn/bin:$PATH
env:
  - NODE_ENV=development
  - PORT=4040
  - JWT_SECRET=0a6b944d-d2fb-46fc-a85e-0295c986cd9f
  - MONGO_HOST=mongodb://localhost:27017/express-mongoose-es6-rest-api-development
  - MONGO_PORT=27017
